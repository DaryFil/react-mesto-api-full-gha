{"ast":null,"code":"import _classCallCheck from\"C:/Users/Legion Pro/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Legion Pro/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{settings}from\"./constants.js\";var Api=/*#__PURE__*/function(){function Api(){_classCallCheck(this,Api);this._address=settings.baseUrl;this._headers=settings.headers;}_createClass(Api,[{key:\"_checkAnswer\",value:function _checkAnswer(res){if(res.ok){return res.json();}return Promise.reject(res.status);}},{key:\"_request\",value:function _request(endpoint,options){return fetch(\"\".concat(this._address).concat(endpoint),options).then(this._checkAnswer);}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request(\"/users/me\",{method:\"GET\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"}});}},{key:\"saveUserInfo\",value:function saveUserInfo(_ref){var name=_ref.name,about=_ref.about;return this._request(\"/users/me\",{method:\"PATCH\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,about:about})});}},{key:\"saveUserAvatar\",value:function saveUserAvatar(_ref2){var avatar=_ref2.avatar;return this._request(\"/users/me/avatar\",{method:\"PATCH\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:avatar})});}},{key:\"getInitialCards\",value:function getInitialCards(){return this._request(\"/cards\",{method:\"GET\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"}});}},{key:\"addNewCard\",value:function addNewCard(data){return this._request(\"/cards\",{method:\"POST\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"/cards/\".concat(cardId),{method:\"DELETE\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"}});}},{key:\"toggleLike\",value:function toggleLike(cardId,method){return this._request(\"/cards/\".concat(cardId,\"/likes\"),{method:method,headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"}});}}]);return Api;}();var api=new Api({baseUrl:\"https://api.darimon.nomoredomains.xyz\",headers:{authorization:\"Bearer \".concat(localStorage.getItem('jwt')),\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["settings","Api","_classCallCheck","_address","baseUrl","_headers","headers","_createClass","key","value","_checkAnswer","res","ok","json","Promise","reject","status","_request","endpoint","options","fetch","concat","then","getUserInfo","method","authorization","localStorage","getItem","saveUserInfo","_ref","name","about","body","JSON","stringify","saveUserAvatar","_ref2","avatar","getInitialCards","addNewCard","data","deleteCard","cardId","toggleLike","api"],"sources":["C:/Users/Legion Pro/OneDrive/Рабочий стол/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["import {settings} from \"./constants.js\";\n\n\nclass Api {\n  constructor() {\n    this._address = settings.baseUrl;\n    this._headers = settings.headers;\n  }\n\n  _checkAnswer(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.status);\n  }\n\n  _request(endpoint, options) {\n    return fetch(`${this._address}${endpoint}`, options).then(\n      this._checkAnswer\n    );\n  }\n\n  getUserInfo() {\n    return this._request(`/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n  saveUserInfo({name, about}) {\n    return this._request(`/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({name: name, about: about}),\n    });\n  }\n\n  saveUserAvatar({avatar}) {\n    return this._request(`/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({avatar: avatar}),\n    });\n  }\n\n  getInitialCards() {\n    return this._request(`/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n\n  addNewCard(data) {\n    return this._request(`/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._request(`/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n\n\n  toggleLike(cardId, method) {\n    return this._request(`/cards/${cardId}/likes`, {\n      method: method,\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.darimon.nomoredomains.xyz\",\n  headers: {\n    authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n"],"mappings":"sbAAA,OAAQA,QAAQ,KAAO,gBAAgB,CAAC,GAGlC,CAAAC,GAAG,yBACP,SAAAA,IAAA,CAAc,CAAAC,eAAA,MAAAD,GAAA,EACZ,IAAI,CAACE,QAAQ,CAAGH,QAAQ,CAACI,OAAO,CAChC,IAAI,CAACC,QAAQ,CAAGL,QAAQ,CAACM,OAAO,CAClC,CAACC,YAAA,CAAAN,GAAA,GAAAO,GAAA,gBAAAC,KAAA,CAED,SAAAC,aAAaC,GAAG,CAAE,CAChB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACJ,GAAG,CAACK,MAAM,CAAC,CACnC,CAAC,GAAAR,GAAA,YAAAC,KAAA,CAED,SAAAQ,SAASC,QAAQ,CAAEC,OAAO,CAAE,CAC1B,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAAClB,QAAQ,EAAAkB,MAAA,CAAGH,QAAQ,EAAIC,OAAO,CAAC,CAACG,IAAI,CACvD,IAAI,CAACZ,YACP,CAAC,CACH,CAAC,GAAAF,GAAA,eAAAC,KAAA,CAED,SAAAc,YAAA,CAAc,CACZ,MAAO,KAAI,CAACN,QAAQ,aAAc,CAChCO,MAAM,CAAE,KAAK,CACblB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACJ,CAAC,GAAAnB,GAAA,gBAAAC,KAAA,CAED,SAAAmB,aAAAC,IAAA,CAA4B,IAAd,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,KAAK,CAAAF,IAAA,CAALE,KAAK,CACvB,MAAO,KAAI,CAACd,QAAQ,aAAc,CAChCO,MAAM,CAAE,OAAO,CACflB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CAAC,CACDK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACJ,IAAI,CAAEA,IAAI,CAAEC,KAAK,CAAEA,KAAK,CAAC,CACjD,CAAC,CAAC,CACJ,CAAC,GAAAvB,GAAA,kBAAAC,KAAA,CAED,SAAA0B,eAAAC,KAAA,CAAyB,IAAT,CAAAC,MAAM,CAAAD,KAAA,CAANC,MAAM,CACpB,MAAO,KAAI,CAACpB,QAAQ,oBAAqB,CACvCO,MAAM,CAAE,OAAO,CACflB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CAAC,CACDK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACG,MAAM,CAAEA,MAAM,CAAC,CACvC,CAAC,CAAC,CACJ,CAAC,GAAA7B,GAAA,mBAAAC,KAAA,CAED,SAAA6B,gBAAA,CAAkB,CAChB,MAAO,KAAI,CAACrB,QAAQ,UAAW,CAC7BO,MAAM,CAAE,KAAK,CACblB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACJ,CAAC,GAAAnB,GAAA,cAAAC,KAAA,CAGD,SAAA8B,WAAWC,IAAI,CAAE,CACf,MAAO,KAAI,CAACvB,QAAQ,UAAW,CAC7BO,MAAM,CAAE,MAAM,CACdlB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CAAC,CACDK,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACM,IAAI,CAC3B,CAAC,CAAC,CACJ,CAAC,GAAAhC,GAAA,cAAAC,KAAA,CAED,SAAAgC,WAAWC,MAAM,CAAE,CACjB,MAAO,KAAI,CAACzB,QAAQ,WAAAI,MAAA,CAAWqB,MAAM,EAAI,CACvClB,MAAM,CAAE,QAAQ,CAChBlB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACJ,CAAC,GAAAnB,GAAA,cAAAC,KAAA,CAGD,SAAAkC,WAAWD,MAAM,CAAElB,MAAM,CAAE,CACzB,MAAO,KAAI,CAACP,QAAQ,WAAAI,MAAA,CAAWqB,MAAM,WAAU,CAC7ClB,MAAM,CAAEA,MAAM,CACdlB,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACJ,CAAC,WAAA1B,GAAA,KAGH,GAAM,CAAA2C,GAAG,CAAG,GAAI,CAAA3C,GAAG,CAAC,CAClBG,OAAO,CAAE,uCAAuC,CAChDE,OAAO,CAAE,CACPmB,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAE,CACtD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,cAAe,CAAAiB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}