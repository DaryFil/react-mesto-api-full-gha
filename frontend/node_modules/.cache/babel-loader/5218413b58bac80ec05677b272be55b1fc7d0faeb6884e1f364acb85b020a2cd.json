{"ast":null,"code":"import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{useContext,useState}from\"react\";// export default function\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var userId=useContext(CurrentUserContext)._id;var isOwn=card.owner._id===userId;// Определяем, являемся ли мы владельцем текущей карточки\nvar isLiked=card.likes.some(function(card){return card===userId;});var handleCardClick=function handleCardClick(){onCardClick(card);};var handleCardLike=function handleCardLike(){onCardLike(card,isLiked);};var handleCardDelete=function handleCardDelete(){onCardDelete(card._id);};return/*#__PURE__*/_jsxs(\"article\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",alt:card.name,src:card.link,onClick:handleCardClick}),isOwn&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCardDelete,className:\"card__delete-button opacity\",type:\"button\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__description\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__title\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__like\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCardLike,type:\"button\",className:\"card__like-button \".concat(isLiked?\"card__like-button_active\":\"\")}),/*#__PURE__*/_jsx(\"span\",{className:\"card__like-count\",children:card.likes.length})]})]})]});};export default Card;","map":{"version":3,"names":["CurrentUserContext","useContext","useState","jsx","_jsx","jsxs","_jsxs","Card","_ref","card","onCardClick","onCardLike","onCardDelete","userId","_id","isOwn","owner","isLiked","likes","some","handleCardClick","handleCardLike","handleCardDelete","className","children","alt","name","src","link","onClick","type","concat","length"],"sources":["C:/Users/Legion Pro/OneDrive/Рабочий стол/dev/react-mesto-api-full-gha/frontend/src/components/Card.js"],"sourcesContent":["import { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { useContext, useState } from \"react\";\n\n// export default function\nconst Card = ({ card, onCardClick, onCardLike, onCardDelete }) => {\n  const userId = useContext(CurrentUserContext)._id;\n  const isOwn = card.owner._id === userId; // Определяем, являемся ли мы владельцем текущей карточки\n  const isLiked = card.likes.some((card) => card === userId);\n\n  const handleCardClick = () => {\n    onCardClick(card);\n   };\n\n   const handleCardLike = () => {\n    onCardLike(card, isLiked);\n   };\nconst handleCardDelete = () => {\n  onCardDelete(card._id);\n}\n\n  return (\n    <article className=\"card\">\n      <img\n        className=\"card__image\"\n        alt={card.name}\n        src={card.link}\n        onClick={handleCardClick}\n      />\n      {/* // Далее в разметке используем переменную для условного рендеринга */}\n      {isOwn && (\n        <button onClick={handleCardDelete}\n        className=\"card__delete-button opacity\" type=\"button\" />\n      )}\n      <div className=\"card__description\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__like\">\n          <button\n            onClick={handleCardLike}\n            type=\"button\"\n            className={`card__like-button ${\n              isLiked ? \"card__like-button_active\" : \"\"\n            }`}\n          />\n\n          <span className=\"card__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  );\n};\nexport default Card;\n"],"mappings":"AAAA,OAASA,kBAAkB,KAAQ,mCAAmC,CACtE,OAASC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAE5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACA,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAAC,IAAA,CAAwD,IAAlD,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CACzD,GAAM,CAAAC,MAAM,CAAGZ,UAAU,CAACD,kBAAkB,CAAC,CAACc,GAAG,CACjD,GAAM,CAAAC,KAAK,CAAGN,IAAI,CAACO,KAAK,CAACF,GAAG,GAAKD,MAAM,CAAE;AACzC,GAAM,CAAAI,OAAO,CAAGR,IAAI,CAACS,KAAK,CAACC,IAAI,CAAC,SAACV,IAAI,QAAK,CAAAA,IAAI,GAAKI,MAAM,GAAC,CAE1D,GAAM,CAAAO,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5BV,WAAW,CAACD,IAAI,CAAC,CAClB,CAAC,CAED,GAAM,CAAAY,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC5BV,UAAU,CAACF,IAAI,CAAEQ,OAAO,CAAC,CAC1B,CAAC,CACJ,GAAM,CAAAK,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BV,YAAY,CAACH,IAAI,CAACK,GAAG,CAAC,CACxB,CAAC,CAEC,mBACER,KAAA,YAASiB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACvBpB,IAAA,QACEmB,SAAS,CAAC,aAAa,CACvBE,GAAG,CAAEhB,IAAI,CAACiB,IAAK,CACfC,GAAG,CAAElB,IAAI,CAACmB,IAAK,CACfC,OAAO,CAAET,eAAgB,CAC1B,CAAC,CAEDL,KAAK,eACJX,IAAA,WAAQyB,OAAO,CAAEP,gBAAiB,CAClCC,SAAS,CAAC,6BAA6B,CAACO,IAAI,CAAC,QAAQ,CAAE,CACxD,cACDxB,KAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCpB,IAAA,OAAImB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEf,IAAI,CAACiB,IAAI,CAAK,CAAC,cAC5CpB,KAAA,QAAKiB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpB,IAAA,WACEyB,OAAO,CAAER,cAAe,CACxBS,IAAI,CAAC,QAAQ,CACbP,SAAS,sBAAAQ,MAAA,CACPd,OAAO,CAAG,0BAA0B,CAAG,EAAE,CACxC,CACJ,CAAC,cAEFb,IAAA,SAAMmB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEf,IAAI,CAACS,KAAK,CAACc,MAAM,CAAO,CAAC,EAC1D,CAAC,EACH,CAAC,EACC,CAAC,CAEd,CAAC,CACD,cAAe,CAAAzB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}