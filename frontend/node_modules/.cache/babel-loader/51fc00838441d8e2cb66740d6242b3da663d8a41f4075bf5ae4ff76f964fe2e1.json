{"ast":null,"code":"import _slicedToArray from\"C:/Users/Legion Pro/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfilePopup=function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),about=_useState4[0],setAbout=_useState4[1];// Подписка на контекст\nvar currentUser=useContext(CurrentUserContext);var handleSubmit=function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:about});};// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nuseEffect(function(){setName(currentUser.name);setAbout(currentUser.about);},[currentUser,isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||\"\",onChange:function onChange(event){return setName(event.target.value);},type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\"//   id=\"name\"\n,className:\"popup__input popup__input_name\"//   name=\"name\"\n,required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__field\",children:[/*#__PURE__*/_jsx(\"input\",{value:about||\"\",onChange:function onChange(event){return setAbout(event.target.value);},type:\"text\",placeholder:\"\\u0421\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\",id:\"about\",className:\"popup__input popup__input_about\",name:\"about\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error about-error\"})]})]});};export default EditProfilePopup;","map":{"version":3,"names":["useContext","useState","useEffect","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","about","setAbout","currentUser","handleSubmit","e","preventDefault","title","buttonText","onSubmit","children","className","value","onChange","event","target","type","placeholder","required","minLength","maxLength","id"],"sources":["C:/Users/Legion Pro/OneDrive/Рабочий стол/dev/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\n  const [name, setName] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleSubmit = (e) => {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about\n    });\n  }\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  \n\n  return (\n    <PopupWithForm\n      name={`profile`}\n      title={`Редактировать профиль`}\n      buttonText={`Сохранить`}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          value={name || \"\"}\n          onChange={(event) => setName(event.target.value)}\n          type=\"text\"\n          placeholder=\"Имя\"\n          //   id=\"name\"\n          className=\"popup__input popup__input_name\"\n          //   name=\"name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n\n        <span className=\"popup__input-error name-error\" />\n      </label>\n      <label className=\"popup__field\">\n        <input\n          value={about || \"\"}\n          onChange={(event) => setAbout(event.target.value)}\n          type=\"text\"\n          placeholder=\"Специальность\"\n          id=\"about\"\n          className=\"popup__input popup__input_about\"\n          name=\"about\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span className=\"popup__input-error about-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n};\nexport default EditProfilePopup;\n"],"mappings":"4NAAA,OAASA,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACvD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAAC,IAAA,CAA0C,IAApC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CACvD,IAAAC,SAAA,CAAwBb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA0BlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB;AACA,GAAM,CAAAG,WAAW,CAAGvB,UAAU,CAACI,kBAAkB,CAAC,CAElD,GAAM,CAAAoB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1B;AACAA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACAb,YAAY,CAAC,CACXI,IAAI,CAAJA,IAAI,CACJI,KAAK,CAALA,KACF,CAAC,CAAC,CACJ,CAAC,CACD;AACA;AACAnB,SAAS,CAAC,UAAM,CACdgB,OAAO,CAACK,WAAW,CAACN,IAAI,CAAC,CACzBK,QAAQ,CAACC,WAAW,CAACF,KAAK,CAAC,CAC7B,CAAC,CAAE,CAACE,WAAW,CAAEZ,MAAM,CAAC,CAAC,CAIzB,mBACEH,KAAA,CAACL,aAAa,EACZc,IAAI,UAAY,CAChBU,KAAK,4HAA0B,CAC/BC,UAAU,yDAAc,CACxBjB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBiB,QAAQ,CAAEL,YAAa,CAAAM,QAAA,eAEvBtB,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC7BxB,IAAA,UACE0B,KAAK,CAAEf,IAAI,EAAI,EAAG,CAClBgB,QAAQ,CAAE,SAAAA,SAACC,KAAK,QAAK,CAAAhB,OAAO,CAACgB,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CACjDI,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,oBACZ;AAAA,CACAN,SAAS,CAAC,gCACV;AAAA,CACAO,QAAQ,MACRC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACf,CAAC,cAEFlC,IAAA,SAAMyB,SAAS,CAAC,+BAA+B,CAAE,CAAC,EAC7C,CAAC,cACRvB,KAAA,UAAOuB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC7BxB,IAAA,UACE0B,KAAK,CAAEX,KAAK,EAAI,EAAG,CACnBY,QAAQ,CAAE,SAAAA,SAACC,KAAK,QAAK,CAAAZ,QAAQ,CAACY,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAClDI,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,gFAAe,CAC3BI,EAAE,CAAC,OAAO,CACVV,SAAS,CAAC,iCAAiC,CAC3Cd,IAAI,CAAC,OAAO,CACZqB,QAAQ,MACRC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CAChB,CAAC,cACFlC,IAAA,SAAMyB,SAAS,CAAC,gCAAgC,CAAO,CAAC,EACnD,CAAC,EACK,CAAC,CAEpB,CAAC,CACD,cAAe,CAAAtB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}